"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[393],{3833:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(3645),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,".details-appointment[data-v-45907abc]{background:transparent;margin:1rem;min-height:10vh}.details-appointment .text-center[data-v-45907abc]{text-align:center}.details-appointment h3[data-v-45907abc]{margin:0}.details-appointment .info-user[data-v-45907abc]{display:flex}@media (max-width:500px){.details-appointment .container-row[data-v-45907abc]{display:block;justify-content:center}.details-appointment .container-card-other-info[data-v-45907abc]{margin-left:-10px;margin-top:10px;width:94vw}.details-appointment .info-user[data-v-45907abc]{display:block;visibility:visible}}.details-appointment .container-row[data-v-45907abc]{justify-content:space-between;margin-bottom:1rem}.details-appointment .container-row .info-user[data-v-45907abc]{background:#fff;box-shadow:var(--box-shadow1);padding:0!important}.details-appointment .container-row .info-user .head-card-user[data-v-45907abc]{border-right:3px solid var(--bgMainColor);display:flex;flex:0.4;flex-direction:column;justify-content:space-between;padding:1rem}.details-appointment .container-row .info-user .head-card-user .name-user[data-v-45907abc]{margin-bottom:5px}.details-appointment .container-row .info-user .head-card-user span[data-v-45907abc]{font-size:12px;margin-bottom:5px}.details-appointment .container-row .info-user .content-card-other-info-user[data-v-45907abc]{flex:1;padding:1rem}.details-appointment .container-row .info-user .content-card-other-info-user .container-item .content-item[data-v-45907abc]{border-bottom:1px solid var(--gray400Color);display:flex;flex-direction:column;justify-content:flex-start;margin-bottom:12px;padding-bottom:12px}.details-appointment .container-row .info-user .content-card-other-info-user .container-item .content-item .label-item[data-v-45907abc]{font-size:13px;margin:0 0 12px;opacity:.5}.details-appointment .container-row .info-user .content-card-other-info-user .container-item .content-item .value-item[data-v-45907abc]{font-size:14px;font-weight:500}.details-appointment .container-row .container-card-other-info[data-v-45907abc]{display:flex}.details-appointment .container-row .container-card-other-info .content-card-other-info[data-v-45907abc]{background:#fff;border-radius:0;box-shadow:var(--box-shadow1);display:flex;flex-direction:column;justify-content:space-between;padding:1rem}.details-appointment .container-row .container-card-other-info .content-card-other-info .appointment .date-appointment[data-v-45907abc]{font-size:15px;font-weight:800}.details-appointment .container-row .container-card-other-info .content-card-other-info .appointment .type-appointment[data-v-45907abc]{color:var(--error500Color);font-size:1.4rem;font-weight:800;margin-bottom:1rem;margin-top:.3rem;text-transform:uppercase}.details-appointment .container-row .container-card-other-info .content-card-other-info .title-info[data-v-45907abc]{color:#606266}.details-appointment .container-row .container-card-other-info .content-card-other-info .description-info[data-v-45907abc]{color:#909090;font-size:13px}.details-appointment .container-timeline[data-v-45907abc]{margin-top:2rem}.details-appointment .container-timeline .el-timeline[data-v-45907abc]{padding:0}.details-appointment .container-timeline .el-card[data-v-45907abc]{border:1px solid #ededed;box-shadow:none;padding:.5rem}",""]);const o=i},393:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ee});var a=n(8222),i=function(e){return(0,a.dD)("data-v-45907abc"),e=e(),(0,a.Cn)(),e},o={class:"details-appointment app-container-page"},r={class:"head-card-user app-flex-d-column app-align-items-center"},l={class:"app-m-0 name-user text-center"},c={class:"app-opacity-5"},d={class:"app-opacity-5"},s=["href"],u=i((function(){return(0,a._)("div",{class:"content-qr-code"},[(0,a._)("img",{alt:"QR CODE",height:"50",src:"/assets/vue/imgs/others/fake_qrcode.jpeg",width:"50"})],-1)})),p={class:"content-card-other-info-user app-mb-1"},m={class:"content-item"},f=i((function(){return(0,a._)("h5",{class:"app-opacity-5 label-item"},"Genre",-1)})),v={class:"value-item"},b={class:"content-item"},h=i((function(){return(0,a._)("h5",{class:"app-opacity-5 label-item"},"Date de naissance",-1)})),_={class:"value-item"},w={class:"content-item"},y=i((function(){return(0,a._)("h5",{class:"app-opacity-5 label-item"},"Lieu de naissance",-1)})),g={class:"value-item"},x=i((function(){return(0,a._)("div",{class:"content-item"},[(0,a._)("h5",{class:"app-opacity-5 label-item"},"Nationalité"),(0,a._)("span",{class:"value-item"},"Guinéenne")],-1)})),j={class:"content-item"},O=i((function(){return(0,a._)("h5",{class:"app-opacity-5 label-item"},"Type de service",-1)})),k={class:"value-item"},P={class:"content-item"},D=i((function(){return(0,a._)("h5",{class:"app-opacity-5 label-item"},"Type de demande",-1)})),E={class:"value-item"},N=i((function(){return(0,a._)("div",{class:"content-item"},[(0,a._)("h5",{class:"app-opacity-5 label-item"},"Taille"),(0,a._)("span",{class:"value-item"},"-")],-1)})),z=i((function(){return(0,a._)("div",{class:"content-item"},[(0,a._)("h5",{class:"app-opacity-5 label-item"},"Nom & prénom du père"),(0,a._)("span",{class:"value-item"},"-")],-1)})),T=i((function(){return(0,a._)("div",{class:"content-item"},[(0,a._)("h5",{class:"app-opacity-5 label-item"},"Nom & prénom mère"),(0,a._)("span",{class:"value-item"},"-")],-1)})),C={class:"content-card-other-info"},W={class:"appointment"},S={class:"type-appointment"},A={class:"date-appointment"},I={class:"app-d-flex app-justify-content-space-between app-align-items-center"},L=i((function(){return(0,a._)("span",{class:"title-info"},"Reference",-1)})),R={class:"app-m-0"},M=i((function(){return(0,a._)("div",{class:"app-d-flex app-justify-content-space-between app-align-items-center"},[(0,a._)("p",{class:"description-info app-m-0"}," il est nécessaire de prendre tous vos précautions afin d’honnorer votre rendez-vous pris pour le 19 novembre 2022 de 10h à 11h ")],-1)})),q={class:"app-mt-1"},F=i((function(){return(0,a._)("div",null,[(0,a._)("div",{class:"qr-code"})],-1)})),Z={class:"container-timeline"};var G=n(2386),H=n(3907);function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==U(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==U(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===U(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const B={name:"DetailsAppointment",components:{EmptyState:n(8540).Z,ButtonApp:G.Z},mixins:[],props:{},data:function(){return{documentId:String,isLoading:!1,attachedFile:!1,circleUrl:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"}},computed:Y(Y(Y({},(0,H.nv)(["FETCH_ONE_APPOINTMENT"])),(0,H.Se)({isLoading:"IS_LOADING_APPOINTMENT",appointment:"GET_ONE_APPOINTMENT",initPayData:"GET_INIT_RESPONSE_PAYMENT"})),{},{demandeObj:function(){var e,t;return null!==(e=null===(t=this.appointment)||void 0===t?void 0:t.demande)&&void 0!==e?e:null},dateNaiss:function(){var e,t,n;return null==(null===(e=this.appointment)||void 0===e?void 0:e.demande)?"-":new Date(null===(t=this.appointment)||void 0===t||null===(n=t.demande)||void 0===n?void 0:n.date_naissance_asker).toLocaleDateString(void 0,{weekday:"long",day:"numeric",month:"long",year:"numeric"})},clientObj:function(){var e,t;return null===(e=this.appointment)||void 0===e||null===(t=e.demande)||void 0===t?void 0:t.client},typeDocumentObj:function(){var e,t;return null===(e=this.appointment)||void 0===e||null===(t=e.demande)||void 0===t?void 0:t.type_document},paiementObj:function(){var e,t;return null===(e=this.appointment)||void 0===e||null===(t=e.demande)||void 0===t?void 0:t.paiement},timelineItem:function(){var e,t,n,a,i,o,r,l,c,d=[];(d.unshift({date:this.formateDateAppointement(null===(e=this.demandeObj)||void 0===e?void 0:e.created_at),action:"Enregistrement de la demande"}),null!=(null===(t=this.appointment)||void 0===t||null===(n=t.demande)||void 0===n?void 0:n.paiement)&&null!=(null===(a=this.appointment)||void 0===a||null===(i=a.demande)||void 0===i||null===(o=i.paiement)||void 0===o?void 0:o.reference_pay))&&d.unshift({date:this.formateDateAppointement(null===(r=this.appointment)||void 0===r||null===(l=r.demande)||void 0===l||null===(c=l.paiement)||void 0===c?void 0:c.date_pay),action:"Paiement de la demande"});return d}}),watch:{initPayData:function(){console.log("initPayData",this.initPayData.data),this.checkout()}},created:function(){},mounted:function(){},beforeMount:function(){this.documentId=this.$route.params.documentId,this.fetchData()},methods:{fetchData:function(){this.$store.dispatch("FETCH_ONE_APPOINTMENT",this.documentId)},formateDateAppointement:function(e){return new Date(e).toLocaleDateString(void 0,{weekday:"long",day:"numeric",month:"long",year:"numeric"})},printAppointment:function(){var e;window.open("/recuPdf/".concat(null===(e=this.demandeObj)||void 0===e?void 0:e.code_demande))},buyAppointment:function(){this.$store.dispatch("INIT_PAYEMENT",this.documentId)},checkout:function(){var e=this;this.isLoading=!0,CinetPay.setConfig(Y({},this.initPayData.data.config)),CinetPay.getCheckout(Y({},this.initPayData.data.params)),CinetPay.waitResponse((function(t){e.isLoading=!0,console.log("waitResponse",t),"REFUSED"==t.status?alert("Votre paiement a échoué"):"ACCEPTED"==t.status&&alert("Votre paiement a été effectué avec succès"),window.location.reload(),e.isLoading=!1})),CinetPay.onError((function(t){console.log("onError ",t),alert("Votre paiement a échoué"),window.location.reload(),e.isLoading=!1}))}},filters:{}};var K=n(3379),Q=n.n(K),J=n(3833),X={insert:"head",singleton:!1};Q()(J.Z,X);J.Z.locals;const ee=(0,n(3744).Z)(B,[["render",function(e,t,n,i,G,H){var U=(0,a.up)("EmptyState"),V=(0,a.up)("el-col"),Y=(0,a.up)("el-avatar"),$=(0,a.up)("el-row"),B=(0,a.up)("ButtonApp"),K=(0,a.up)("Printer"),Q=(0,a.up)("el-icon"),J=(0,a.up)("el-card"),X=(0,a.up)("el-timeline-item"),ee=(0,a.up)("el-timeline");return(0,a.wg)(),(0,a.j4)($,{loading:e.isLoading},{default:(0,a.w5)((function(){return[null==e.appointment?((0,a.wg)(),(0,a.j4)(V,{key:0,sm:24,xs:24},{default:(0,a.w5)((function(){return[(0,a.Wm)(U,{onReload:e.fetchData},null,8,["onReload"])]})),_:1})):((0,a.wg)(),(0,a.j4)(V,{key:1,sm:24,xs:24},{default:(0,a.w5)((function(){return[(0,a._)("div",o,[(0,a.Wm)($,{gutter:24,class:"container-row"},{default:(0,a.w5)((function(){return[(0,a.Wm)(V,{sm:16,xs:24,class:"info-user"},{default:(0,a.w5)((function(){var t,n,i,o,C;return[(0,a._)("div",r,[(0,a.Wm)(Y,{size:60,src:e.circleUrl},null,8,["src"]),(0,a._)("h4",l,(0,a.zw)(null===(t=e.demandeObj)||void 0===t?void 0:t.nom_asker)+" "+(0,a.zw)(null===(n=e.demandeObj)||void 0===n?void 0:n.prenom_asker),1),(0,a._)("span",c,(0,a.zw)(null===(i=e.demandeObj)||void 0===i?void 0:i.email_asker),1),(0,a._)("span",d,[(0,a._)("a",{href:"tel:"+(null===(o=e.demandeObj)||void 0===o?void 0:o.telephone_asker)},(0,a.zw)(null===(C=e.demandeObj)||void 0===C?void 0:C.telephone_asker),9,s)]),u]),(0,a._)("div",p,[(0,a.Wm)($,{gutter:24,class:"container-item"},{default:(0,a.w5)((function(){return[(0,a.Wm)(V,{sm:8,xs:24,class:""},{default:(0,a.w5)((function(){var t,n;return[(0,a._)("div",m,[f,(0,a._)("span",v,(0,a.zw)(null!==(t=null===(n=e.demandeObj)||void 0===n?void 0:n.genre_asker)&&void 0!==t?t:"-"),1)])]})),_:1}),(0,a.Wm)(V,{sm:8,xs:24,class:""},{default:(0,a.w5)((function(){return[(0,a._)("div",b,[h,(0,a._)("span",_,(0,a.zw)(e.dateNaiss),1)])]})),_:1}),(0,a.Wm)(V,{sm:8,xs:24,class:""},{default:(0,a.w5)((function(){var t,n;return[(0,a._)("div",w,[y,(0,a._)("span",g,(0,a.zw)(null!==(t=null===(n=e.demandeObj)||void 0===n?void 0:n.adresse_asker)&&void 0!==t?t:"-"),1)])]})),_:1}),(0,a.Wm)(V,{sm:8,xs:24,class:""},{default:(0,a.w5)((function(){return[x]})),_:1}),(0,a.Wm)(V,{sm:8,xs:24,class:""},{default:(0,a.w5)((function(){var t,n,i;return[(0,a._)("div",j,[O,(0,a._)("span",k,(0,a.zw)(null!==(t=null===(n=e.demandeObj)||void 0===n||null===(i=n.type_service)||void 0===i?void 0:i.nom_type_document)&&void 0!==t?t:"-"),1)])]})),_:1}),(0,a.Wm)(V,{sm:8,xs:24,class:""},{default:(0,a.w5)((function(){var t,n;return[(0,a._)("div",P,[D,(0,a._)("span",E,(0,a.zw)(null!==(t=null===(n=e.demandeObj)||void 0===n?void 0:n.type_request)&&void 0!==t?t:"-"),1)])]})),_:1}),(0,a.Wm)(V,{sm:8,xs:24,class:""},{default:(0,a.w5)((function(){return[N]})),_:1}),(0,a.Wm)(V,{sm:8,xs:24,class:""},{default:(0,a.w5)((function(){return[z]})),_:1}),(0,a.Wm)(V,{sm:8,xs:24,class:""},{default:(0,a.w5)((function(){return[T]})),_:1})]})),_:1})])]})),_:1}),(0,a.Wm)(V,{sm:8,xs:24,class:"container-card-other-info"},{default:(0,a.w5)((function(){var t,n,i,o,r,l,c,d,s,u,p,m,f,v,b;return[(0,a._)("div",C,[(0,a._)("div",W,[(0,a._)("h5",S,"Rendez-vous : "+(0,a.zw)(null!==(t=null===(n=e.typeDocumentObj)||void 0===n?void 0:n.nom_type_document)&&void 0!==t?t:"-"),1),(0,a._)("h4",A,(0,a.zw)(e.formateDateAppointement(null!==(i=null===(o=e.demandeObj)||void 0===o?void 0:o.date_rdv_demande)&&void 0!==i?i:"-")),1)]),(0,a._)("div",I,[L,(0,a._)("h5",R,(0,a.zw)(null!==(r=null===(l=e.demandeObj)||void 0===l?void 0:l.code_demande)&&void 0!==r?r:"-"),1)]),M,(0,a._)("div",q,[null==(null===(c=e.appointment)||void 0===c||null===(d=c.demande)||void 0===d?void 0:d.paiement)||null==(null===(s=e.appointment)||void 0===s||null===(u=s.demande)||void 0===u?void 0:u.paiement.reference_pay)?((0,a.wg)(),(0,a.j4)(B,{key:0,loading:e.isLoading,"primary-btn":!1,block:"","button-title":"Payer",icon:"el-icon-printer",onClick:e.buyAppointment},null,8,["loading","onClick"])):(0,a.kq)("",!0),null!=(null===(p=e.appointment)||void 0===p||null===(m=p.demande)||void 0===m?void 0:m.paiement)&&null!=(null===(f=e.appointment)||void 0===f||null===(v=f.demande)||void 0===v||null===(b=v.paiement)||void 0===b?void 0:b.reference_pay)?((0,a.wg)(),(0,a.j4)(B,{key:1,loading:e.isLoading,"primary-btn":!1,block:"","button-title":"Télécharger le reçu",icon:"el-icon-printer",onClick:e.printAppointment},{icon:(0,a.w5)((function(){return[(0,a.Wm)(Q,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(K)]})),_:1})]})),_:1},8,["loading","onClick"])):(0,a.kq)("",!0)]),F])]})),_:1})]})),_:1}),(0,a.Wm)($,{gutter:24,class:"container-row"},{default:(0,a.w5)((function(){return[(0,a.Wm)(V,{sm:e.attachedFile?16:24,xs:24},{default:(0,a.w5)((function(){return[(0,a._)("div",Z,[(0,a.Wm)(ee,null,{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.timelineItem,(function(e,t){return(0,a.wg)(),(0,a.j4)(X,{timestamp:null==e?void 0:e.date,placement:"top"},{default:(0,a.w5)((function(){return[(0,a.Wm)(J,null,{default:(0,a.w5)((function(){return[(0,a._)("h4",null,(0,a.zw)(null==e?void 0:e.action),1)]})),_:2},1024)]})),_:2},1032,["timestamp"])})),256))]})),_:1})])]})),_:1},8,["sm"]),e.attachedFile?((0,a.wg)(),(0,a.j4)(V,{key:0,sm:8,xs:24})):(0,a.kq)("",!0)]})),_:1})])]})),_:1}))]})),_:1},8,["loading"])}],["__scopeId","data-v-45907abc"]])}}]);