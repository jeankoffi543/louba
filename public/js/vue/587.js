"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[587],{2164:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(6314),i=n.n(o)()((function(e){return e[1]}));i.push([e.id,".start-request[data-v-0c8c10ca]{min-height:100vh}.colors[data-v-0c8c10ca]{color:#030b3c}.trait[data-v-0c8c10ca]{background:#00ccc2;border-radius:5px;display:flex;height:3px;justify-content:center;margin-bottom:15px;margin-left:auto;margin-right:auto;width:25px}.cartes[data-v-0c8c10ca]{border:1px solid gray;display:flex;flex-direction:column;justify-content:space-between}.cartes.disabled[data-v-0c8c10ca],.cartes[data-v-0c8c10ca]:disabled{box-shadow:none!important;cursor:not-allowed;filter:opacity(.5)}[data-v-0c8c10ca] .el-collapse-item__header{border-bottom:1px solid #dddddd5c;font-size:1rem;font-weight:700;padding:1rem;text-transform:uppercase}[data-v-0c8c10ca] .el-collapse-item__content{padding:1rem}.object-appointment .item-request-type .fileInput[data-v-0c8c10ca]{height:0;width:0}.object-appointment .item-request-type[data-v-0c8c10ca]:hover{cursor:pointer}.object-appointment .item-request-type .item-request-type-head[data-v-0c8c10ca]{align-items:center;display:flex;justify-content:center;margin:auto!important;max-width:40%;padding:1rem 0;width:40%}.object-appointment .item-request-type .item-request-type-head img[data-v-0c8c10ca]{align-items:center;display:flex;height:100%;justify-content:center;margin:auto;-o-object-fit:contain;object-fit:contain;width:100%}.object-appointment .item-request-type .card-body[data-v-0c8c10ca]{display:flex;flex-direction:column;justify-content:space-around}.object-appointment .selected[data-v-0c8c10ca]{border:3px solid green!important}.object-appointment .object-appointment[data-v-0c8c10ca]{display:flex;flex:1;flex-direction:column;justify-content:space-between}.object-appointment .container-appointment-form .container-appointment-form-row[data-v-0c8c10ca]{flex:1;height:inherit;margin:0}.object-appointment .appointment-title h3[data-v-0c8c10ca]{color:var(--primaryColor);font-size:25px;margin:0 0 1rem}.service-appointment .item-request-type .fileInput[data-v-0c8c10ca]{height:0;width:0}.service-appointment .item-request-type[data-v-0c8c10ca]:hover{cursor:pointer}.service-appointment .item-request-type .item-request-type-head[data-v-0c8c10ca]{align-items:center;display:flex;justify-content:center;margin:auto!important;max-width:40%;padding:1rem 0;width:40%}.service-appointment .item-request-type .item-request-type-head img[data-v-0c8c10ca]{align-items:center;display:flex;height:110px;justify-content:center;margin:auto;-o-object-fit:cover;object-fit:cover;width:110px}.service-appointment .item-request-type .card-body[data-v-0c8c10ca]{display:flex;flex-direction:column;justify-content:space-around}.service-appointment .selected[data-v-0c8c10ca]{border:3px solid green!important}.service-appointment .object-appointment[data-v-0c8c10ca]{display:flex;flex:1;flex-direction:column;justify-content:space-between}.service-appointment .container-appointment-form .container-appointment-form-row[data-v-0c8c10ca]{flex:1;height:inherit;margin:0}.service-appointment .appointment-title h3[data-v-0c8c10ca]{color:var(--primaryColor);font-size:25px;margin:0 0 1rem}.information-personne .group[data-v-0c8c10ca]{margin-bottom:1.6rem}.information-personne .group .item-title[data-v-0c8c10ca]{font-size:15px!important}.information-personne .el-form-item[data-v-0c8c10ca]{margin-bottom:0!important}.padding-1[data-v-0c8c10ca]{padding:1rem}.w-auto[data-v-0c8c10ca]{width:auto}.is-selected[data-v-0c8c10ca]{color:#1989fa}.el-tag[data-v-0c8c10ca]{margin-right:5px}.cell[data-v-0c8c10ca]{display:flex;flex-direction:column;height:100%;justify-content:space-between;margin:0}.content-info-personal-appointment[data-v-0c8c10ca]{margin-top:2rem}.space[data-v-0c8c10ca],.space1[data-v-0c8c10ca]{width:-moz-fit-content;width:fit-content}.error-message[data-v-0c8c10ca]{color:red;margin-top:5px}",""]);const r=i},4587:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var o=n(1431),i={class:"start-request"},r={class:"demo-collapse"},a={class:"col-sm-12 col-md-12"},c={class:"row d-flex",style:{"margin-top":"1rem"}},s={class:"col-sm-12 col-md-12",style:{}},l={key:0,class:"error-message"},d={class:"col-sm-12 col-md-12"},m={class:"row d-flex",style:{"margin-top":"1rem"}},u={class:"col-sm-12 col-md-12",style:{}},p={key:0,class:"error-message"},f={class:"service-appointment"},h={class:"container-fluid"},v={class:"row container-appointment-form-row"},g=["onClick"],b={class:"item-request-type-head mt-3 text-center border-0"},y=["alt","src"],E={class:"my-0 fw-bold text-center",style:{margin:"13px 0px !important"}},_={class:"row my-2"},S={class:"col-sm-12 col-md-12"},C={class:"group"},I=function(e){return(0,o.Qi)("data-v-0c8c10ca"),e=e(),(0,o.jt)(),e}((function(){return(0,o.Lk)("h1",{class:"fs-5 item-title"},"Numéro reçu",-1)})),P={key:0,class:"error-message"},w={class:"row"},x={class:"app-w-100 app-d-flex app-d-flex app-justify-content-center"};var T=n(6278),k=n(8281),O=n(2554);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=j(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A={name:"StartRequest",components:{ButtonApp:k.A},mixins:[],props:{},data:function(){return{formError:!1,activeNames:["1","2","3","4","5"],disabledStep1:!1,disabledStep2:!1,disabledStep3:!0,disabledStep4:!0,typeDemand:"nouvelle_demande",titleDocumentUpload:"Extrait de naissance",typeServiceSelected:null,pointEnrolementServices:[],formPersonalInfo:{firstname:"",lastname:"",numero_recu:"",documentId:String,siteAppointmentId:"",serviceId:"",nationality:"",nationality_state:"",profession:"",email:"",gender:"H",phone:"",dateOfBirth:"",placeOfResidence:"",fileListPicture:[],fileListBirthCertificate:[]},signalement:{height:0,complexion:"",hair_color:"",eye_color:""},ascendants:{father_firstname:"",father_lastname:"",mother_firstname:"",mother_lastname:""},demandeType:null,pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}}}},computed:D(D(D({},(0,T.i0)(["FORM_DATA_REQUEST","FETCH_PRODUCTS","FETCH_SERVICES","FETCH_SELECT_SERVICE","FETCH_ENROLMENTS_POINTS"])),(0,T.L8)({products:"GET_PRODUCTS",enrolmentsPoint:"GET_ENROLMENTS_POINTS",isLoading:"IS_LOADING_APPOINTMENT",productSelected:"GET_PRODUCT_SELECTED",serviceSelected:"GET_SERVICE_SELECTED",selectService:"GET_SELECT_SERVICE",services:"GET_SERVICES",formRequestData:"GET_FORM_DATA_REQUEST"})),{},{servivesAvailable:function(){return(this.services||[]).filter((function(e){return e.visible_in_flow}))}}),watch:{products:function(){this.productSelected=this.products[0],this.radioAppointmentChangeProduct(this.products[0],2)}},beforeMount:function(){this.fetchDataProducts(),this.fetchDataSerives(),this.formPersonalInfo.documentId=this.$route.params.documentId},created:function(){this.$store.dispatch("FETCH_ENROLMENTS_POINTS")},methods:{changeEnrolment:function(e){var t,n=null===(t=this.enrolmentsPoint)||void 0===t?void 0:t.find((function(t){return t.id_pe==e}));this.pointEnrolementServices=null==n?void 0:n.services},onSwitchPage:function(){if(this.formError=!1,!this.formPersonalInfo.serviceId||null==this.formPersonalInfo.serviceId||""==this.formPersonalInfo.serviceId)return this.formError=!0,void this.$swal({position:"center",icon:"warning",title:"Le type de service est obligatoire",showConfirmButton:!1,timer:4500});if(""===this.formPersonalInfo.numero_recu||null===this.formPersonalInfo.numero_recu||void 0===this.formPersonalInfo.numero_recu||""===this.formPersonalInfo.numero_recu||null===this.formPersonalInfo.siteAppointmentId||""==this.formPersonalInfo.siteAppointmentId)return this.formError=!0,void this.$swal({position:"center",icon:"warning",title:"Le numéro du récu est obligatoire",showConfirmButton:!1,timer:4500});this.formError=!1;var e={key:[O.Qm.FORM_INFO_USER],data:D(D(D({},this.formPersonalInfo),this.signalement),this.ascendants)};this.$store.dispatch("FORM_DATA_REQUEST",e),this.$router.push({name:"appointment-end"})},handleChange:function(e){this.activeNames.push(e)},uploadBirthCertificate:function(e,t){this.formPersonalInfo.fileListBirthCertificate=[],this.formPersonalInfo.fileListBirthCertificate.push(e.raw)},onRemoveBirthCertificate:function(e,t){this.formPersonalInfo.fileListBirthCertificate=[]},uploadPicture:function(e,t){this.formPersonalInfo.fileListPicture=[],this.formPersonalInfo.fileListPicture.push(e.raw)},onRemovePicture:function(e,t){this.formPersonalInfo.fileListPicture=[]},onChangTypeDemande:function(e){this.$store.dispatch("FORM_DATA_REQUEST",{key:[O.Qm.TYPE_REQUEST],data:this.typeDemand}),"nouvelle_demande"===this.typeDemand?this.titleDocumentUpload="Extrait de naissance":"duplicata"===this.typeDemand?this.titleDocumentUpload="Déclaration de perte":"renouvelement"===this.typeDemand&&(this.titleDocumentUpload="Copie précédent passeport"),this.onNextStep(e)},fetchDataSerives:function(){this.$store.dispatch("FETCH_SERVICES")},radioAppointmentChangeService:function(e,t){this.$store.dispatch("SERVICE_SELECTED",e),this.typeServiceSelected=e,this.$store.dispatch("FORM_DATA_REQUEST",{key:[O.Qm.SERVICE],data:e}),this.onNextStep(t)},fetchDataProducts:function(){this.$store.dispatch("FETCH_PRODUCTS")},onNextStep:function(e){this.activeNames.push(e)},radioAppointmentChangeProduct:function(e,t){null!=e&&e.flow_enable&&(this.demandeType=e.form_type,this.$store.dispatch("PRODUCT_SELECTED",e),this.$store.dispatch("FORM_DATA_REQUEST",{key:[O.Qm.PRODUCT],data:e}),null!=e&&e.select_service_is_required?this.onNextStep(t):(this.activeNames=this.activeNames.filter((function(e){return e!=t})),this.$store.dispatch("FORM_DATA_REQUEST",{key:[O.Qm.SERVICE],data:null}),this.onNextStep(3)))}}};var F=n(5072),N=n.n(F),q=n(2164),U={insert:"head",singleton:!1};N()(q.A,U);q.A.locals;const V=(0,n(6262).A)(A,[["render",function(e,t,n,T,k,O){var j=(0,o.g2)("el-option"),L=(0,o.g2)("el-select"),D=(0,o.g2)("el-form-item"),R=(0,o.g2)("el-form"),A=(0,o.g2)("el-input"),F=(0,o.g2)("ButtonApp"),N=(0,o.g2)("el-col"),q=(0,o.g2)("el-row"),U=(0,o.g2)("el-collapse");return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("div",r,[(0,o.bF)(U,{ref:"collapse",modelValue:e.activeNames,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.activeNames=t}),onChange:e.handleChange},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",a,[(0,o.bF)(R,{class:"g-3 needs-validation","label-position":"top"},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",c,[(0,o.Lk)("div",s,[(0,o.bF)(D,{label:"Choisir le point d'enrollement",required:""},{default:(0,o.k6)((function(){return[(0,o.bF)(L,{modelValue:e.formPersonalInfo.siteAppointmentId,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formPersonalInfo.siteAppointmentId=t}),class:"w-100",onChange:t[1]||(t[1]=function(t){return e.changeEnrolment(t)}),required:""},{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.enrolmentsPoint,(function(e){return(0,o.uX)(),(0,o.Wv)(j,{key:e.id_pe,label:e.nom_pe,value:e.id_pe},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),!e.formPersonalInfo.siteAppointmentId&&e.formError?((0,o.uX)(),(0,o.CE)("span",l,"Ce champs est obligatoire")):(0,o.Q3)("",!0)])])]})),_:1})]),(0,o.Lk)("div",d,[(0,o.bF)(R,{class:"g-3 needs-validation","label-position":"top"},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",m,[(0,o.Lk)("div",u,[(0,o.bF)(D,{label:"Selectionner le type de service",required:""},{default:(0,o.k6)((function(){return[(0,o.bF)(L,{modelValue:e.formPersonalInfo.serviceId,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formPersonalInfo.serviceId=t}),class:"w-100",onChange:t[3]||(t[3]=function(t){return e.changeEnrolment(t)})},{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.pointEnrolementServices,(function(e){return(0,o.uX)(),(0,o.Wv)(j,{key:e.id,label:e.name,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),!e.formPersonalInfo.serviceId&&e.formError?((0,o.uX)(),(0,o.CE)("span",p,"Ce champs est obligatoire")):(0,o.Q3)("",!0)])])]})),_:1})]),(0,o.Lk)("div",f,[(0,o.Lk)("div",h,[(0,o.Lk)("div",v,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.formPersonalInfo.pointEnrolementServices,(function(t,n){var i;return(0,o.uX)(),(0,o.CE)("div",{key:n,class:"item-request-type col-sm-12 col-md-6 col-lg-3 mb-2",onClick:function(n){return e.radioAppointmentChangeService(t,3)}},[(0,o.Lk)("div",{class:(0,o.C4)([{selected:(null==t?void 0:t.id)==(null===(i=e.serviceSelected)||void 0===i?void 0:i.id)},"card shadow border-0 h-100"])},[(0,o.Lk)("div",b,[(0,o.Lk)("img",{alt:null==t?void 0:t.name,src:null==t?void 0:t.image,class:"border-0 img"},null,8,y)]),(0,o.Lk)("h6",E,(0,o.v_)(null==t?void 0:t.name),1)],2)],8,g)})),128))])])]),(0,o.Lk)("div",_,[(0,o.Lk)("div",S,[(0,o.Lk)("div",C,[I,(0,o.bF)(D,null,{default:(0,o.k6)((function(){return[(0,o.bF)(A,{modelValue:e.formPersonalInfo.numero_recu,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.formPersonalInfo.numero_recu=t}),placeholder:"Numéro du reçu",size:"default"},null,8,["modelValue"])]})),_:1}),!e.formPersonalInfo.numero_recu&&e.formError?((0,o.uX)(),(0,o.CE)("span",P,"Ce champs est obligatoire")):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",w,[(0,o.Lk)("div",x,[(0,o.bF)(q,{gutter:24,class:"app-w-50"},{default:(0,o.k6)((function(){return[(0,o.bF)(N,{sm:24,xs:24,class:"mt-3"},{default:(0,o.k6)((function(){return[(0,o.bF)(F,{block:"","button-title":"Suivant",onClick:e.onSwitchPage},null,8,["onClick"])]})),_:1})]})),_:1})])])]})),_:1},8,["modelValue","onChange"])])])}],["__scopeId","data-v-0c8c10ca"]])}}]);